#####################################################################
#          MENU PERSONALIZADO KLIPPERSCREEN - CALIBRAÇÃO           #
#                    SISTEMA INDEPENDENTE V2.0                     #
#####################################################################
# Este arquivo adiciona um menu personalizado no KlipperScreen
# para facilitar o acesso aos comandos de calibração independente
#
# LOCALIZAÇÃO NO KLIPPERSCREEN:
# Menu Principal → Calibração Multi-Ferramenta
#
# COMANDOS DISPONÍVEIS:
# - Calibrar T0, T1, T2
# - Finalizar calibrações
# - Status e diagnóstico
# - Ajuda
#####################################################################

# Configuração do menu personalizado para KlipperScreen
# Adicione estas linhas ao seu KlipperScreen.conf:

# [menu __main calibracao_multitools]
# name: Calibração Multi-Ferramenta
# icon: probe
# 
# [menu __main calibracao_multitools calibrar_t0]
# name: Calibrar T0 (Referência)
# icon: extruder
# method: printer.gcode.script
# params: {"script":"CALIBRAR_T0"}
# 
# [menu __main calibracao_multitools calibrar_t1]
# name: Calibrar T1 (Relativa)
# icon: extruder
# method: printer.gcode.script
# params: {"script":"CALIBRAR_T1"}
# 
# [menu __main calibracao_multitools calibrar_t2]
# name: Calibrar T2 (Relativa)
# icon: extruder
# method: printer.gcode.script
# params: {"script":"CALIBRAR_T2"}
# 
# [menu __main calibracao_multitools separator1]
# name: ────────────────
# 
# [menu __main calibracao_multitools finalizar_t0]
# name: Finalizar T0
# icon: complete
# method: printer.gcode.script
# params: {"script":"FINALIZAR_CALIBRACAO_T0"}
# 
# [menu __main calibracao_multitools finalizar_t1]
# name: Finalizar T1
# icon: complete
# method: printer.gcode.script
# params: {"script":"FINALIZAR_CALIBRACAO_T1"}
# 
# [menu __main calibracao_multitools finalizar_t2]
# name: Finalizar T2
# icon: complete
# method: printer.gcode.script
# params: {"script":"FINALIZAR_CALIBRACAO_T2"}
# 
# [menu __main calibracao_multitools separator2]
# name: ────────────────
# 
# [menu __main calibracao_multitools status]
# name: Status Sistema
# icon: info
# method: printer.gcode.script
# params: {"script":"STATUS_CALIBRACAO_INDEPENDENTE"}
# 
# [menu __main calibracao_multitools cancelar]
# name: Cancelar Calibração
# icon: cancel
# method: printer.gcode.script
# params: {"script":"CANCELAR_CALIBRACAO"}
# 
# [menu __main calibracao_multitools ajuda]
# name: Ajuda
# icon: info
# method: printer.gcode.script
# params: {"script":"AJUDA_CALIBRACAO_INDEPENDENTE"}

#####################################################################
#                    MACROS DE SUPORTE PARA MENU                  #
#####################################################################

[gcode_macro MENU_CALIBRACAO_INFO]
description: Informações sobre o menu de calibração
gcode:
    RESPOND MSG="📱 ===== MENU KLIPPERSCREEN CALIBRAÇÃO ====="
    RESPOND MSG="🎯 Para ativar o menu personalizado:"
    RESPOND MSG="   1. Abra o arquivo KlipperScreen.conf"
    RESPOND MSG="   2. Adicione as configurações do menu"
    RESPOND MSG="   3. Reinicie o KlipperScreen"
    RESPOND MSG=""
    RESPOND MSG="📁 Arquivo de configuração:"
    RESPOND MSG="   klipperscreen_menu_calibracao.cfg"
    RESPOND MSG=""
    RESPOND MSG="🔧 Menu disponível em:"
    RESPOND MSG="   Menu Principal → Calibração Multi-Ferramenta"
    RESPOND MSG=""
    RESPOND MSG="💡 Comandos do menu:"
    RESPOND MSG="   • Calibrar T0, T1, T2"
    RESPOND MSG="   • Finalizar calibrações"
    RESPOND MSG="   • Status e diagnóstico"
    RESPOND MSG="   • Cancelar e ajuda"

[gcode_macro VERIF_MENU_KS]
description: Verifica se o menu está configurado corretamente
gcode:
    RESPOND MSG="🔍 Verificando configuração do menu..."
    RESPOND MSG="📁 Verifique se estas linhas estão em KlipperScreen.conf:"
    RESPOND MSG=""
    RESPOND MSG="[menu __main calibracao_multitools]"
    RESPOND MSG="name: Calibração Multi-Ferramenta"
    RESPOND MSG="icon: probe"
    RESPOND MSG=""
    RESPOND MSG="💡 Para mais detalhes, execute:"
    RESPOND MSG="   MENU_CALIBRACAO_INFO"

#####################################################################
#                    INSTRUÇÕES DE INSTALAÇÃO                     #
#####################################################################

# PASSO A PASSO PARA ATIVAR O MENU:
#
# 1. Abra o arquivo KlipperScreen.conf
# 2. Adicione as configurações de menu (descomente as linhas acima)
# 3. Salve o arquivo
# 4. Reinicie o KlipperScreen
# 5. O menu aparecerá como "Calibração Multi-Ferramenta"
#
# ESTRUTURA DO MENU:
# ├── Calibração Multi-Ferramenta
# │   ├── Calibrar T0 (Referência)
# │   ├── Calibrar T1 (Relativa)
# │   ├── Calibrar T2 (Relativa)
# │   ├── ────────────────
# │   ├── Finalizar T0
# │   ├── Finalizar T1
# │   ├── Finalizar T2
# │   ├── ────────────────
# │   ├── Status Sistema
# │   ├── Cancelar Calibração
# │   └── Ajuda
#
# VANTAGENS DO MENU:
# - Acesso rápido aos comandos
# - Interface visual amigável
# - Organização clara por função
# - Separadores para melhor organização
# - Ícones intuitivos
#
# NOTA: O menu é opcional. Todos os comandos também funcionam
# via terminal/console do KlipperScreen ou Mainsail/Fluidd